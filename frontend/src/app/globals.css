@import "tailwindcss";

@plugin "tailwindcss-animate";

@custom-variant dark (&:is(.dark *));

@theme {
  --color-border: hsl(var(--border));
  --color-input: hsl(var(--input));
  --color-ring: hsl(var(--ring));
  --color-background: hsl(var(--background));
  --color-foreground: hsl(var(--foreground));

  --color-primary: hsl(var(--primary));
  --color-primary-foreground: hsl(var(--primary-foreground));

  --color-secondary: hsl(var(--secondary));
  --color-secondary-foreground: hsl(var(--secondary-foreground));

  --color-destructive: hsl(var(--destructive));
  --color-destructive-foreground: hsl(var(--destructive-foreground));

  --color-muted: hsl(var(--muted));
  --color-muted-foreground: hsl(var(--muted-foreground));

  --color-accent: hsl(var(--accent));
  --color-accent-foreground: hsl(var(--accent-foreground));

  --color-popover: hsl(var(--popover));
  --color-popover-foreground: hsl(var(--popover-foreground));

  --color-card: hsl(var(--card));
  --color-card-foreground: hsl(var(--card-foreground));

  --radius-lg: var(--radius);
  --radius-md: calc(var(--radius) - 2px);
  --radius-sm: calc(var(--radius) - 4px);
}

/*
  The default border color has changed to `currentColor` in Tailwind CSS v4,
  so we've added these compatibility styles to make sure everything still
  looks the same as it did with Tailwind CSS v3.

  If we ever want to remove these styles, we need to add an explicit border
  color utility to any element that depends on these defaults.
*/
@layer base {

  *,
  ::after,
  ::before,
  ::backdrop,
  ::file-selector-button {
    border-color: var(--color-gray-200, currentColor);
  }
}

:root {
  --background: 240 10% 4%;
  --foreground: 0 0% 98%;
  --card: 240 6% 10%;
  --card-foreground: 0 0% 98%;
  --popover: 240 6% 10%;
  --popover-foreground: 0 0% 98%;
  
  /* Primary: A vibrant, modern Indigo/Violet */
  --primary: 262 83% 58%;
  --primary-foreground: 210 40% 98%;
  
  /* Secondary: A deep, rich slate */
  --secondary: 240 6% 15%;
  --secondary-foreground: 0 0% 98%;
  
  --muted: 240 6% 15%;
  --muted-foreground: 240 5% 65%;
  
  --accent: 262 83% 58%;
  --accent-foreground: 0 0% 98%;
  
  --destructive: 0 84% 60%;
  --destructive-foreground: 0 0% 98%;
  
  --border: 240 6% 15%;
  --input: 240 6% 15%;
  --ring: 262 83% 58%;
  
  --radius: 0.75rem;
}

.dark {
  /* Keep same as root for dark-first design */
  --background: 240 10% 4%;
  --foreground: 0 0% 98%;
  --card: 240 6% 10%;
  --card-foreground: 0 0% 98%;
  --popover: 240 6% 10%;
  --popover-foreground: 0 0% 98%;
  --primary: 262 83% 58%;
  --primary-foreground: 210 40% 98%;
  --secondary: 240 6% 15%;
  --secondary-foreground: 0 0% 98%;
  --muted: 240 6% 15%;
  --muted-foreground: 240 5% 65%;
  --accent: 262 83% 58%;
  --accent-foreground: 0 0% 98%;
  --destructive: 0 63% 31%;
  --destructive-foreground: 0 0% 98%;
  --border: 240 6% 15%;
  --input: 240 6% 15%;
  --ring: 262 83% 58%;
}

@layer utilities {
  .glass {
    @apply bg-background/40 backdrop-blur-xl border border-white/10 shadow-xl;
  }
  .glass-card {
    @apply bg-card/60 backdrop-blur-lg border border-white/5 shadow-2xl;
  }
  .text-gradient {
    @apply bg-clip-text text-transparent bg-gradient-to-r from-white to-white/60;
  }
  .text-gradient-primary {
    @apply bg-clip-text text-transparent bg-gradient-to-r from-primary to-blue-500;
  }
  .animate-fade-in-up {
    animation: fadeInUp 0.8s cubic-bezier(0.16, 1, 0.3, 1) forwards;
  }
  .animate-float {
    animation: float 6s ease-in-out infinite;
  }
}

@keyframes fadeInUp {
  from {
    opacity: 0;
    transform: translateY(20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes float {
  0% { transform: translateY(0px); }
  50% { transform: translateY(-10px); }
  100% { transform: translateY(0px); }
}

@layer base {
  * {
    border-color: var(--color-border);
  }

  body {
    @apply bg-background text-foreground;
  }
}

/* ========== PWA / Mobile Optimizations ========== */

/* Safe area insets for notch devices (iPhone X+) */
.safe-area-bottom {
  padding-bottom: env(safe-area-inset-bottom, 0px);
}

/* Smooth scrolling everywhere */
html {
  scroll-behavior: smooth;
  -webkit-overflow-scrolling: touch;
}

/* Prevent text size adjust on orientation change */
html {
  -webkit-text-size-adjust: 100%;
  text-size-adjust: 100%;
}

/* Disable pull-to-refresh in standalone mode */
@media (display-mode: standalone) {
  body {
    overscroll-behavior-y: contain;
  }
}

/* Remove tap highlight on mobile */
* {
  -webkit-tap-highlight-color: transparent;
}

/* Better touch targets */
@media (max-width: 768px) {
  button, a, [role="button"] {
    min-height: 44px;
    min-width: 44px;
  }

  input, select, textarea {
    font-size: 16px !important; /* Prevent iOS zoom on focus */
  }
}

/* Standalone mode body padding */
@media (display-mode: standalone) {
  body {
    padding-top: env(safe-area-inset-top, 0px);
  }
}